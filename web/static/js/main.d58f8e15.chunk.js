(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),l=a.n(o);a(50),a(51),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(43),c=a(6),s=a(8),u=a(7),h=a(9),g=a(5),d=a(10),m=a.n(d),p=a(17),f=a.n(p),v=a(16),E=a.n(v),O=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).textarea=r.a.createRef(),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"scrollToBottom",value:function(){this.textarea.current.scrollTop=this.textarea.current.scrollHeight}},{key:"render",value:function(){return r.a.createElement("textarea",{className:"emscripten",id:"output",ref:this.textarea,rows:8,readOnly:!0,value:this.props.log})}}]),t}(r.a.Component),y=["UNIQUE","ERROR_","ANONYMOS","NET","GAME","TASK","INPUT_","NET_MESSAGE","NET_BRIEF","SUBTASK","FILE_SYSTEM","HARD_LOG","Z"],w=function(e){function t(){return Object(g.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"btnHolder"},this.props.log.map(function(t,a){return r.a.createElement(E.a,{className:"logSettingButton",key:a,variant:t?"success":"primary",onClick:function(t){return e.props.onToggle(a)}},y[a])}))}}]),t}(r.a.Component),A=["layer1","remnants","layer2","creeps","cars","projectiles","layer3","formations_D","connections_D","formAgro_D","explosions","debug_D","threat_D","obstacles_D","input","hud","flyingMessage","fps_D","timing_D","scores"],b=function(e){function t(){return Object(g.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"btnHolder"},this.props.settings.map(function(t,a){return r.a.createElement(E.a,{className:"drawSettingButton",key:a,variant:t?"success":"primary",onClick:function(t){return e.props.onToggle(a)}},A[a])}))}}]),t}(r.a.Component),T=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=r.heapIn,l=void 0===o?"HEAPF32":o,i=r.heapOut,c=void 0===i?"HEAPF32":i,s=r.returnArraySize,u=void 0===s?1:s;if(Module){var h,g,d={};d.HEAP8=Int8Array,d.HEAPU8=Uint8Array,d.HEAP16=Int16Array,d.HEAPU16=Uint16Array,d.HEAP32=Int32Array,d.HEAPU32=Uint32Array,d.HEAPF32=Float32Array,d.HEAPF64=Float64Array,a=a||[];var m="array"===t?"number":t,p=[],f=[],v=[];try{if(n)for(var E=0;E<n.length;E++)if("array"===a[E]||Array.isArray(n[E])){for(var O=new d[l](n[E].length),y=0;y<n[E].length;y++)O[y]=n[E][y];var w=Module._malloc(O.length*O.BYTES_PER_ELEMENT);switch(l){case"HEAP8":case"HEAPU8":Module[l].set(O,w);break;case"HEAP16":case"HEAPU16":Module[l].set(O,w>>1);break;case"HEAP32":case"HEAPU32":case"HEAPF32":Module[l].set(O,w>>2);break;case"HEAPF64":Module[l].set(O,w>>3);break;default:console.log("unexpected. 312cr")}v.push(w),p.push(w),p.push(n[E].length),f.push("number"),f.push("number")}else p.push(n[E]),f.push(void 0===a[E]?"number":a[E]);h=Module.ccall(e,m,f,p)}catch(S){g=S}finally{for(var A=0;A<v.length;A++)Module._free(v[A])}if(g)throw g;if("array"===t){for(var b=[],T=0;T<u;T++)b.push(Module[c][h/d[c].BYTES_PER_ELEMENT+T]);return b}return h}console.log("Module undefined")};"undefined"==typeof window&&(exports.ccallArrays=T,exports.cwrapArrays=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n.heapIn,o=void 0===r?"HEAPF32":r,l=n.heapOut,i=void 0===l?"HEAPF32":l,c=n.returnArraySize,s=void 0===c?1:c;return function(n){return T(e,t,a,n,{heapIn:o,heapOut:i,returnArraySize:s})}});var S=!1;function H(){return S||(S=Module.ccall("isLoaded",Boolean,[],[])),S}function N(){return Module&&Module.ccall&&H()?T("getLogSettings","array",null,null,{heapIn:"HEAP8",heapOut:"HEAP8",returnArraySize:13}):(console.log("No wasm attached. ccall ignored."),j(13))}function L(){return Module&&Module.ccall&&H()?T("getDrawSettings","array",null,null,{heapIn:"HEAP8",heapOut:"HEAP8",returnArraySize:20}):(console.log("No wasm attached. ccall ignored."),j(20))}function j(e){for(var t=[],a=0;a<e;a++)t.push(Math.random()>.5?1:0);return t}var _,M="https://github.com/AescaFarstad/jollyRover",P=function(e){function t(){return Object(g.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"howto"},r.a.createElement("div",null,"\u2022  Draw a path starting and ending at the bottom edge. Your tank will follow it."),r.a.createElement("div",null,"\u2022  Run over soldiers -> earn trophies on your return."),r.a.createElement("div",null,"\u2022  Crash into other players at higher speed and steal their trophies."),r.a.createElement("div",null,"\u2022  Your friends can play with you, send them the link!"),r.a.createElement("div",{className:"howto-mini"},"The source code is available here: ",r.a.createElement("a",{href:M},M)))}}]),t}(r.a.Component);!function(e){e.LOG="LOG",e.LOG_CONTROL="LOG_CONTROL",e.DRAW_CONTROL="DRAW_CONTROL",e.HOW_TO="HOW_TO"}(_||(_={}));var k=function e(){Object(g.a)(this,e),this.activeTab=void 0,this.log=[],this.logSettings=[],this.drawSettings=[],this.showTutorial=!1},R=function(e){function t(e){var a;Object(g.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).logView=r.a.createRef(),a.print=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];t.length>1&&(r=Array.prototype.slice.call(t).join(" ")),console.log(r),a.setState({log:[].concat(Object(i.a)(a.state.log),[r])}),a.logView.current&&a.logView.current.scrollToBottom()},a.handleSelect=function(e){a.setState({activeTab:e}),a.logView.current&&a.logView.current.scrollToBottom()},a.handleLogSettingToggle=function(e){!function(e){Module&&Module.ccall&&H()?Module.ccall("toggleLogSetting",null,["number"],[e]):console.log("No wasm attached. ccall ignored.")}(e);var t=N();a.setState({logSettings:t})},a.handleDrawSettingToggle=function(e){!function(e){Module&&Module.ccall&&H()?Module.ccall("toggleDrawSetting",null,["number"],[e]):console.log("No wasm attached. ccall ignored.")}(e);var t=L();a.setState({drawSettings:t})},a.onTutorialOK=function(e){a.setState({showTutorial:!1}),document.cookie="name=tutorialDone"};var n=new k;return n.activeTab=_.HOW_TO,n.logSettings=N(),n.drawSettings=L(),n.showTutorial=!1,a.state=n,document.latePrint=a.print,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"activePanel",value:function(e){switch(e){case _.LOG:return r.a.createElement(O,{ref:this.logView,className:"tabContent",log:this.state.log.join("\n")});case _.LOG_CONTROL:return r.a.createElement(w,{className:"tabContent",log:this.state.logSettings,onToggle:this.handleLogSettingToggle});case _.DRAW_CONTROL:return r.a.createElement(b,{className:"tabContent",settings:this.state.drawSettings,onToggle:this.handleDrawSettingToggle});case _.HOW_TO:return r.a.createElement(P,{className:"tabContent",onToggle:this.handleDrawSettingToggle})}return null}},{key:"render",value:function(){var e="";return this.state.showTutorial&&(e=r.a.createElement(f.a.Dialog,{onClick:this.onTutorialOK,className:"tutorialDialog"},r.a.createElement(f.a.Header,null,r.a.createElement(f.a.Title,null,"How to play")),r.a.createElement(f.a.Body,null,r.a.createElement(P,null)),r.a.createElement(f.a.Footer,null,r.a.createElement(E.a,{variant:"primary"},"Got it!")))),r.a.createElement("div",{className:"navContainer"},e,r.a.createElement(m.a,{className:"mainNav",variant:"tabs",activeKey:this.state.activeTab,onSelect:this.handleSelect},r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{eventKey:_.LOG},"Log")),r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{eventKey:_.LOG_CONTROL},"Log settings")),r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{eventKey:_.DRAW_CONTROL},"Draw settings")),r.a.createElement(m.a.Item,null,r.a.createElement(m.a.Link,{eventKey:_.HOW_TO},"How to play"))),this.activePanel(this.state.activeTab))}}]),t}(r.a.Component);window.requestAnimationFrame(D);var C=r.a.createRef();function D(e){document.wasmLoaded?(l.a.render(r.a.createElement(R,{ref:C}),document.getElementById("root")),F&&B()):requestAnimationFrame(D)}requestAnimationFrame(D),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()});var F=!1,I=new XMLHttpRequest;function B(){if(200===I.status){var e=I.response,t=!1;try{t=document.cookie.split("; ").find(function(e){return e.startsWith("name")}).split("=")[1]}catch(n){}var a=!1;t?(console.log("Skip tutorial"),a=!1):a=e.globalConfig.tutorial,C.current.setState({showTutorial:a})}else console.log("Failed to load config."),console.log(I.status),console.log(I.response)}I.open("GET","/config.json",!0),I.responseType="json",I.onload=function(){F=!0,document.wasmLoaded&&B()},I.send()},44:function(e,t,a){e.exports=a(100)},50:function(e,t,a){},51:function(e,t,a){}},[[44,1,2]]]);
//# sourceMappingURL=main.d58f8e15.chunk.js.map
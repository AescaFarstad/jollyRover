logging via macros
refactor network into server-like clients